<div class="ai-nav-container" [class.collapsed]="!opened()" [class.mobile-agent]="mobile_agent()">
	<div class="ai-user-input">
		<orc-ai-input
			[active_agent]="active_agent()"
			[active_chat]="active_chat()"
			[model]="model()"
			[content]="content()"
			[focus]="focus()"
			(chat)="command.emit()"
		></orc-ai-input>
	</div>

	<div class="ai-action-bar">
		<orc-ai-model
			[model]="model()"
			[model_options]="model_options()"
			[device_mobile]="device_type() === 'mobile'"
			(modelChange)="modelChange.emit($event)"
		></orc-ai-model>

		@if (mobile_agent()) {
			<button mat-icon-button type="button" (click)="onHideAgent()" class="orc-icon-button">
				<mat-icon class="orc-outline-color">{{ event_pending() ? 'cancel' : 'close' }}</mat-icon>
			</button>
			<ng-content></ng-content>
			<orc-ai-command [actionable]="actionable()" [active_chat]="active_chat()" (command)="command.emit()"></orc-ai-command>
		} @else {
			<orc-ai-command [actionable]="actionable()" [active_chat]="active_chat()" (command)="command.emit()"></orc-ai-command>
		}
		<orc-ai-conversation-hud
			[conversation]="conversation()"
			[message_length]="message_length()"
			[tool_length]="tool_length()"
			[log_open]="log_open()"
			(toggle)="toggleLog.emit()"
		></orc-ai-conversation-hud>
	</div>
</div>
