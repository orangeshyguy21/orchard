<div class="mint-subsection-database-container p-h-1">
	<div class="mint-database-control p-t-1">
		<div class="flex flex-justify-between flex-gap-1 flex-items-start">
			@if( page_settings ) {
				<orc-mint-data-control
					class="flex-grow"
					[page_settings]="page_settings"
					[filter]="filter"
					[date_start]="page_settings.date_start"
					[date_end]="page_settings.date_end"
					[loading]="loading_static_data"
					[mint_genesis_time]="mint_genesis_time"
					(dateChange)="onDateChange($event)"
					(typeChange)="onTypeChange($event)"
					(filterChange)="onFilterChange($event)">
				</orc-mint-data-control>
			}
			<div>
				<div class="flex flex-items-center flex-gap-1">
					<button 
						type="button" 
						mat-fab 
						extended 
						class="orc-icon-button"
						(click)="onCreate()" 
						(keydown.enter)="$event.preventDefault(); $event.stopPropagation();">
						<mat-icon>database</mat-icon>
						Create Backup
					</button>
					<button mat-icon-button>
						<mat-icon>more_vert</mat-icon>
					</button>
				</div>
			</div>
			
		</div>
		<div class="category-rule"></div>
	</div>

	<!-- <button 
		type="button" 
		mat-fab 
		extended 
		class="orc-icon-button"
		(click)="onRestore()" 
		(keydown.enter)="$event.preventDefault(); $event.stopPropagation();">
		<mat-icon>database_upload</mat-icon>
		Restore Backup
	</button> -->

	<!-- <div [@slideInOut]="keysets_rotation ? 'open' : 'closed'" class="overflow-hidden">
		<orc-mint-keyset-rotation 
			[form_group]="form_keyset"
			[unit_options]="unit_options"
			[keyset_out]="keyset_out"
			[keyset_out_balance]="keyset_out_balance"
			(close)="onCloseRotation()">
		</orc-mint-keyset-rotation>
	</div> -->

	<orc-mint-data-chart
		[locale]="locale"
		[data]="data"
		[page_settings]="page_settings"
		[mint_genesis_time]="mint_genesis_time"
		[loading]="loading_dynamic_data">
	</orc-mint-data-chart>

	<div class="mint-data-table">
		<mat-card appearance="outlined">
			<orc-mint-data-table
				[data]="data"
				[page_settings]="page_settings"
				[loading]="loading_dynamic_data">
			</orc-mint-data-table>
	
			<div class="data-table-sticky-footer p-h-1">
				<div class="category-rule"></div>
				<mat-paginator 
					class="orc-feature-paginator"
					(page)="onPage($event)"
					[hidePageSize]="true"
					[length]="count"
					[pageSize]="data?.entities?.length"
					[pageIndex]="page_settings.page - 1"
					showFirstLastButtons>
				</mat-paginator>
			</div>
		</mat-card>
	</div>
</div>