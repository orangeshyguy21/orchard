<div class="mint-subsection-keysets-container p-h-1">
	<div class="mint-keyset-control p-t-1">
		<div class="flex flex-justify-between flex-gap-1 flex-items-start">
			@if( page_settings ) {
				<orc-mint-keyset-control
					class="flex-grow"
					[page_settings]="page_settings"
					[date_start]="page_settings.date_start"
					[date_end]="page_settings.date_end"
					[units]="page_settings.units"
					[status]="page_settings.status"
					[keysets]="mint_keysets"
					[loading]="loading_static_data"
					[mint_genesis_time]="mint_genesis_time"
					(dateChange)="onDateChange($event)"
					(unitsChange)="onUnitsChange($event)"
					(statusChange)="onStatusChange($event)">
				</orc-mint-keyset-control>
			}
			<button type="button" mat-fab extended (click)="onRotation()" (keydown.enter)="$event.preventDefault(); $event.stopPropagation();">
				<mat-icon>switch_access_shortcut_add</mat-icon>
				Keyset Rotation
			</button>
		</div>
		<div class="category-rule"></div>
	</div>

	<div [@slideInOut]="keysets_rotation ? 'open' : 'closed'" class="overflow-hidden">
		<orc-mint-keyset-rotation 
			[form_group]="form_keyset"
			[unit_options]="unit_options"
			[keyset_out]="keyset_out"
			[keyset_out_balance]="keyset_out_balance"
			[median_notes]="median_notes"
			(close)="onCloseRotation()">
		</orc-mint-keyset-rotation>
	</div>

	<orc-mint-keyset-chart
		[locale]="locale"
		[interval]="interval"
		[keysets]="mint_keysets"
		[keysets_analytics]="keysets_analytics"
		[keysets_analytics_pre]="keysets_analytics_pre"
		[page_settings]="page_settings"
		[mint_genesis_time]="mint_genesis_time"
		[loading]="loading_dynamic_data">
	</orc-mint-keyset-chart>

	<orc-mint-keyset-table
		[keysets]="mint_keysets"
		[keysets_analytics]="keysets_analytics"
		[keysets_analytics_pre]="keysets_analytics_pre"
		[page_settings]="page_settings"
		[loading]="loading_dynamic_data">
	</orc-mint-keyset-table>
</div>